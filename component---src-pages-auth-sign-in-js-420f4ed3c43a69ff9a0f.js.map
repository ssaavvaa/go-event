{"version":3,"sources":["webpack:///./src/pages/auth/sign-in.js","webpack:///./src/components/Error.js"],"names":["initialState","username","email","password","passwordConfirmation","withSession","props","_useState","useState","state","setState","handleChange","event","_Object$assign","_event$target","target","name","value","Object","assign","validateForm","onSubmit","signinUser","_ref2","preventDefault","then","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","a","mark","_callee","_ref","data","wrap","_context","prev","next","localStorage","setItem","token","refetch","navigateTo","stop","_x","apply","this","arguments","react__WEBPACK_IMPORTED_MODULE_6___default","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_7__","_components_seo__WEBPACK_IMPORTED_MODULE_8__","title","className","react_apollo__WEBPACK_IMPORTED_MODULE_9__","mutation","SIGNIN_USER","variables","_ref3","loading","error","react__WEBPACK_IMPORTED_MODULE_6__","_components_loading__WEBPACK_IMPORTED_MODULE_13__","onChange","type","placeholder","disabled","_components_Error__WEBPACK_IMPORTED_MODULE_12__","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","style","fontSize","background","textAlign","padding","color","Error","message"],"mappings":"iXAWA,IAAMA,EAAe,CACjBC,SAAS,GACTC,MAAM,GACNC,SAAS,GACTC,qBAAqB,IAgEVC,sBA5DA,SAACC,GAAU,IAAAC,EAEIC,mBAASR,GAA5BS,EAFeF,EAAA,GAERG,EAFQH,EAAA,GAKhBI,EAAe,SAAAC,GAAS,IAAAC,EAAAC,EACHF,EAAMG,OAAvBC,EADoBF,EACpBE,KAAOC,EADaH,EACbG,MACfP,EAAQQ,OAAAC,OAAA,GAAKV,IAALI,EAAA,IAAaG,GAAMC,EAAnBJ,MAGJO,EAAe,WAAM,IACfnB,EAAyBQ,EAAzBR,SAAYE,EAAaM,EAAbN,SAGrB,OADmBF,IAAcE,GAI9BkB,EAAW,SAACT,EAAMU,GAEpB,MAAAC,EADAX,EAAMY,iBACNF,IAAaG,QAAbC,EAAAC,EAAAC,KAAkB,SAAAC,EAAAC,GAAA,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAOJ,EAAPD,EAAOC,KACzBK,aAAaC,QAAQ,QAAUN,EAAKT,WAAWgB,OAD7BL,EAAAE,KAAA,EAEZ7B,EAAMiC,UAFM,OAGlB7B,EAASV,GACTwC,YAAW,KAJO,wBAAAP,EAAAQ,SAAAZ,KAAlBN,8KAAA,SAAAmB,GAAA,OAAAnB,EAAAoB,MAAAC,KAAAC,eAQI5C,EAAyBQ,EAAzBR,SAAYE,EAAaM,EAAbN,SAEpB,OACI2C,EAAAnB,EAAAoB,cAACC,EAAA,EAAD,KACAF,EAAAnB,EAAAoB,cAACE,EAAA,EAAD,CAAKC,MAAM,YACXJ,EAAAnB,EAAAoB,cAAA,MAAII,UAAU,eAAd,WACAL,EAAAnB,EAAAoB,cAACK,EAAA,EAAD,CAAUC,SAAWC,IAAaC,UAAa,CAACtD,WAAWE,aACtD,SAACmB,EAADkC,GAA2CA,EAA5BzB,KAA4B,IAArB0B,EAAqBD,EAArBC,QAAUC,EAAWF,EAAXE,MAC7B,OACIZ,EAAAnB,EAAAoB,cAACY,EAAA,SAAD,KACKF,GAAWX,EAAAnB,EAAAoB,cAACa,EAAA,EAAD,MAChBd,EAAAnB,EAAAoB,cAAA,QAAMI,UAAU,aAAa9B,SAAY,SAAAT,GAAK,OAAIS,EAAST,EAAMU,KACjEwB,EAAAnB,EAAAoB,cAAA,SAAO9B,MAAShB,EACT4D,SAAYlD,EACZmD,KAAK,OACL9C,KAAO,WACP+C,YAAY,aACnBjB,EAAAnB,EAAAoB,cAAA,SAAO9B,MAASd,EACT0D,SAAYlD,EACZmD,KAAK,WACL9C,KAAO,WACP+C,YAAY,aACnBjB,EAAAnB,EAAAoB,cAAA,UAAQiB,SAAUP,GAAWrC,IAAgB+B,UAAU,iBAAiBW,KAAM,UAA9E,UACCJ,GAASZ,EAAAnB,EAAAoB,cAACkB,EAAA,EAAD,CAAOP,MAAQA,6CCpE7C,IAAAQ,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAEMI,EAAQ,CACVC,SAAS,OACTC,WAAW,MACXC,UAAU,SACVC,QAAQ,aACRC,MAAM,SAOKC,IAJD,SAAA9C,GAAA,IAAE4B,EAAF5B,EAAE4B,MAAF,OACVU,EAAAzC,EAAAoB,cAAA,KAAGuB,MAAOA,GAAQZ,EAAMmB","file":"component---src-pages-auth-sign-in-js-420f4ed3c43a69ff9a0f.js","sourcesContent":["import React , { Fragment, useState }  from \"react\";\r\nimport Layout from '../../components/layout';\r\nimport SEO from '../../components/seo';\r\nimport { Mutation } from 'react-apollo';\r\nimport { SIGNIN_USER } from '../../queries/index';\r\nimport '../../styles/sign-up.css';\r\nimport Error from '../../components/Error';\r\nimport Loading from'../../components/loading';\r\nimport { navigateTo } from '../../Helpers/helpers';\r\nimport  withSession from '../../components/withSession';\r\n\r\nconst initialState = {\r\n    username:'',\r\n    email:'',\r\n    password:'',\r\n    passwordConfirmation:''\r\n}\r\n\r\n\r\nconst SignIn = (props) => {\r\n\r\n    const [state, setState] = useState(initialState)\r\n\r\n\r\n    const handleChange = event => {\r\n      const { name , value } = event.target;\r\n      setState({...state, [name]:value})\r\n    }\r\n\r\n    const validateForm = () => {\r\n        const { username ,  password } = state;\r\n\r\n       const isInvalid = !username ||  !password \r\n       return isInvalid\r\n    }\r\n\r\n    const onSubmit = (event,signinUser) => {\r\n        event.preventDefault()\r\n        signinUser().then(async({data}) => {\r\n        localStorage.setItem('token' , data.signinUser.token);\r\n        await props.refetch();\r\n        setState(initialState)\r\n        navigateTo('/');\r\n })\r\n    }\r\n\r\n    const { username ,  password } = state;\r\n\r\n    return(\r\n        <Layout>\r\n        <SEO title=\"sign-in\" />\r\n        <h2 className=\"sign_header\" >sign in</h2>\r\n        <Mutation mutation ={SIGNIN_USER} variables = {{username , password}}>\r\n            {(signinUser , {data , loading , error}) => {\r\n                return (\r\n                    <Fragment>\r\n                        {loading && <Loading />}\r\n                    <form className=\"formStyles\" onSubmit = {event => onSubmit(event,signinUser)}>\r\n                    <input value = {username} \r\n                           onChange = {handleChange} \r\n                           type=\"text\" \r\n                           name = \"username\" \r\n                           placeholder=\"username\" />\r\n                    <input value = {password} \r\n                           onChange = {handleChange} \r\n                           type=\"password\" \r\n                           name = \"password\" \r\n                           placeholder=\"password\" />\r\n                    <button disabled={loading || validateForm()} className=\"button-primary\" type =\"submit\">Submit</button>\r\n                    {error && <Error error ={error} />}\r\n                </form>\r\n                </Fragment>\r\n                )\r\n            }}\r\n        </Mutation>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default withSession(SignIn);","\r\nimport React from \"react\";\r\n\r\nconst style = {\r\n    fontSize:'2rem',\r\n    background:'red',\r\n    textAlign:'center',\r\n    padding:'.5rem 1rem',\r\n    color:'white'\r\n}\r\n\r\nconst Error = ({error}) => (\r\n    <p style={style}>{error.message}</p>\r\n);\r\n\r\nexport default Error;"],"sourceRoot":""}